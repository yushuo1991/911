# ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„è¯´æ˜

## ğŸ—‚ï¸ æ ¹ç›®å½•ç»“æ„

```
stock-tracker/
â”œâ”€â”€ .github/              # GitHub é…ç½®
â”‚   â””â”€â”€ workflows/        # GitHub Actions å·¥ä½œæµ
â”‚       â””â”€â”€ deploy.yml    # è‡ªåŠ¨éƒ¨ç½²é…ç½® â­
â”œâ”€â”€ .next/               # Next.js æ„å»ºè¾“å‡ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œä¸æäº¤ï¼‰
â”œâ”€â”€ backup/              # é¡¹ç›®å†å²ç‰ˆæœ¬å¤‡ä»½
â”œâ”€â”€ docs/                # ğŸ“š é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ DEPLOY.md        # éƒ¨ç½²å’Œæ›´æ–°æŒ‡å— â­
â”‚   â”œâ”€â”€ QUICK-START.md   # å¿«é€Ÿå¼€å§‹æŒ‡å— â­
â”‚   â”œâ”€â”€ PROJECT-STRUCTURE.md  # é¡¹ç›®ç»“æ„è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ GITHUB-CLI-SETUP.md   # GitHub CLI è®¾ç½®
â”‚   â””â”€â”€ GitHub-CLIå®Œå…¨è‡ªåŠ¨åŒ–æŒ‡å—.md  # å®Œæ•´è‡ªåŠ¨åŒ–æŒ‡å—
â”œâ”€â”€ log/                 # æ—¥å¿—æ–‡ä»¶ï¼ˆæœåŠ¡å™¨è¿è¡Œæ—¥å¿—ï¼‰
â”œâ”€â”€ node_modules/        # ä¾èµ–åŒ…ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œä¸æäº¤ï¼‰
â”œâ”€â”€ scripts/             # è¾…åŠ©è„šæœ¬
â”‚   â”œâ”€â”€ daily-cache.sh   # æ•°æ®ç¼“å­˜è„šæœ¬
â”‚   â””â”€â”€ daily-cache.bat  # Windows ç‰ˆæœ¬ç¼“å­˜è„šæœ¬
â”œâ”€â”€ src/                 # ğŸ“¦ æºä»£ç ç›®å½• â­
â”‚   â”œâ”€â”€ app/             # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/         # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ cron/    # å®šæ—¶ä»»åŠ¡ API
â”‚   â”‚   â”‚   â”œâ”€â”€ stocks/  # è‚¡ç¥¨æ•°æ® API
â”‚   â”‚   â”‚   â””â”€â”€ ...      # å…¶ä»– API
â”‚   â”‚   â”œâ”€â”€ globals.css  # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ layout.tsx   # æ ¹å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ page.tsx     # é¦–é¡µ
â”‚   â”œâ”€â”€ components/      # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ StockTracker.tsx        # ä¸»è‚¡ç¥¨è¿½è¸ªç»„ä»¶
â”‚   â”‚   â””â”€â”€ StockPremiumChart.tsx   # å›¾è¡¨ç»„ä»¶
â”‚   â”œâ”€â”€ lib/             # å·¥å…·åº“å’Œæ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ database.ts                      # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ utils.ts                         # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ enhanced-trading-calendar.ts     # äº¤æ˜“æ—¥å†ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ unified-data-processor.ts        # æ•°æ®å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ chartHelpers.ts                  # å›¾è¡¨è¾…åŠ©å‡½æ•°
â”‚   â””â”€â”€ types/           # TypeScript ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ stock.ts     # è‚¡ç¥¨ç›¸å…³ç±»å‹
â”œâ”€â”€ .env.local          # æœ¬åœ°ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤ï¼‰âš ï¸
â”œâ”€â”€ .gitignore          # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ docker-compose.yml  # Docker Compose é…ç½®
â”œâ”€â”€ Dockerfile          # Docker é•œåƒé…ç½®
â”œâ”€â”€ ecosystem.config.js # PM2 è¿›ç¨‹ç®¡ç†é…ç½®
â”œâ”€â”€ next.config.js      # Next.js é…ç½®
â”œâ”€â”€ package.json        # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬ â­
â”œâ”€â”€ package-lock.json   # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ postcss.config.js   # PostCSS é…ç½®
â”œâ”€â”€ tailwind.config.js  # Tailwind CSS é…ç½®
â”œâ”€â”€ tsconfig.json       # TypeScript é…ç½®
â”œâ”€â”€ README.md           # é¡¹ç›®è¯´æ˜ â­
â”œâ”€â”€ SECURITY-CONFIG.md  # å®‰å…¨é…ç½®æŒ‡å—
â”œâ”€â”€ auto-deploy-github.ps1        # PowerShell éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ GitHub-CLIè‡ªåŠ¨åŒ–.bat           # Windows ä¸€é”®éƒ¨ç½²
â””â”€â”€ server-deploy-setup.sh        # æœåŠ¡å™¨åˆå§‹åŒ–è„šæœ¬
```

---

## ğŸ“¦ æ ¸å¿ƒç›®å½•è¯¦è§£

### 1. `src/app/` - åº”ç”¨é¡µé¢å’Œè·¯ç”±

Next.js 14 ä½¿ç”¨ App Routerï¼Œæ–‡ä»¶å³è·¯ç”±ï¼š

```
src/app/
â”œâ”€â”€ page.tsx              # é¦–é¡µï¼š/ è·¯ç”±
â”œâ”€â”€ layout.tsx            # æ ¹å¸ƒå±€ï¼Œæ‰€æœ‰é¡µé¢å…±äº«
â”œâ”€â”€ globals.css           # å…¨å±€æ ·å¼
â””â”€â”€ api/                  # API è·¯ç”±
    â”œâ”€â”€ stocks/
    â”‚   â””â”€â”€ route.ts      # GET /api/stocks - è·å–è‚¡ç¥¨æ•°æ®
    â”œâ”€â”€ cron/
    â”‚   â””â”€â”€ route.ts      # POST /api/cron - å®šæ—¶ä»»åŠ¡è§¦å‘
    â”œâ”€â”€ minute-snapshot/
    â”‚   â””â”€â”€ route.ts      # åˆ†é’Ÿçº§å¿«ç…§ API
    â””â”€â”€ scheduler/
        â””â”€â”€ route.ts      # è°ƒåº¦å™¨ API
```

**æ–‡ä»¶å‘½åè§„åˆ™ï¼š**
- `page.tsx` â†’ é¡µé¢ç»„ä»¶
- `layout.tsx` â†’ å¸ƒå±€ç»„ä»¶
- `route.ts` â†’ API è·¯ç”±
- `loading.tsx` â†’ åŠ è½½çŠ¶æ€
- `error.tsx` â†’ é”™è¯¯é¡µé¢

---

### 2. `src/components/` - React ç»„ä»¶

å¯å¤ç”¨çš„ UI ç»„ä»¶ï¼š

```
src/components/
â”œâ”€â”€ StockTracker.tsx          # ä¸»ç»„ä»¶ï¼šè‚¡ç¥¨è¿½è¸ªç•Œé¢
â”‚   â”œâ”€â”€ æ˜¾ç¤ºè‚¡ç¥¨åˆ—è¡¨
â”‚   â”œâ”€â”€ å¤„ç†æ•°æ®åˆ·æ–°
â”‚   â””â”€â”€ ç®¡ç†çŠ¶æ€
â””â”€â”€ StockPremiumChart.tsx     # å›¾è¡¨ç»„ä»¶ï¼šå¯è§†åŒ–å±•ç¤º
    â”œâ”€â”€ æ¶¨è·Œå¹…å›¾è¡¨
    â”œâ”€â”€ è¶‹åŠ¿åˆ†æ
    â””â”€â”€ äº¤äº’åŠŸèƒ½
```

**ç»„ä»¶è§„èŒƒï¼š**
- ä½¿ç”¨ TypeScript
- ä½¿ç”¨ React Hooks
- Props ç±»å‹æ˜ç¡®å®šä¹‰
- ç»„ä»¶åŠŸèƒ½å•ä¸€

---

### 3. `src/lib/` - å·¥å…·åº“å’Œæ ¸å¿ƒé€»è¾‘

ä¸šåŠ¡é€»è¾‘å’Œå·¥å…·å‡½æ•°ï¼š

```
src/lib/
â”œâ”€â”€ database.ts                    # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ MySQL è¿æ¥æ± 
â”‚   â”œâ”€â”€ æŸ¥è¯¢å°è£…
â”‚   â””â”€â”€ äº‹åŠ¡å¤„ç†
â”‚
â”œâ”€â”€ utils.ts                       # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ æ—¥æœŸæ—¶é—´å¤„ç†
â”‚   â”œâ”€â”€ æ•°æ®æ ¼å¼åŒ–
â”‚   â””â”€â”€ è®¡ç®—å‡½æ•°
â”‚
â”œâ”€â”€ enhanced-trading-calendar.ts   # äº¤æ˜“æ—¥å†
â”‚   â”œâ”€â”€ è·å–äº¤æ˜“æ—¥
â”‚   â”œâ”€â”€ åˆ¤æ–­æ˜¯å¦äº¤æ˜“æ—¥
â”‚   â””â”€â”€ æ—¶åŒºå¤„ç†ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰
â”‚
â”œâ”€â”€ unified-data-processor.ts      # æ•°æ®å¤„ç†å™¨
â”‚   â”œâ”€â”€ è‚¡ç¥¨æ•°æ®è·å–
â”‚   â”œâ”€â”€ æ•°æ®æ¸…æ´—å’ŒéªŒè¯
â”‚   â””â”€â”€ ç¼“å­˜ç®¡ç†
â”‚
â””â”€â”€ chartHelpers.ts                # å›¾è¡¨è¾…åŠ©
    â”œâ”€â”€ æ•°æ®è½¬æ¢
    â””â”€â”€ å›¾è¡¨é…ç½®
```

---

### 4. `src/types/` - TypeScript ç±»å‹å®šä¹‰

```
src/types/
â””â”€â”€ stock.ts
    â”œâ”€â”€ StockData          # è‚¡ç¥¨åŸºç¡€æ•°æ®
    â”œâ”€â”€ StockPerformance   # è‚¡ç¥¨è¡¨ç°æ•°æ®
    â”œâ”€â”€ TradingDay         # äº¤æ˜“æ—¥æ•°æ®
    â””â”€â”€ ChartDataPoint     # å›¾è¡¨æ•°æ®ç‚¹
```

**ç±»å‹å®šä¹‰ç¤ºä¾‹ï¼š**
```typescript
export interface StockData {
  code: string;
  name: string;
  current_price: number;
  change_percent: number;
  // ...
}
```

---

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### `package.json` - é¡¹ç›®é…ç½®å’Œä¾èµ–

```json
{
  "scripts": {
    "dev": "next dev",           // å¼€å‘æœåŠ¡å™¨
    "build": "next build",       // ç”Ÿäº§æ„å»º
    "start": "next start",       // ç”Ÿäº§æœåŠ¡å™¨
    "lint": "next lint"          // ä»£ç æ£€æŸ¥
  },
  "dependencies": {
    "next": "14.2.32",          // Next.js æ¡†æ¶
    "react": "^18",              // React åº“
    "mysql2": "^3.6.1",          // MySQL é©±åŠ¨
    // ...
  }
}
```

---

### `.github/workflows/deploy.yml` - CI/CD é…ç½®

è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹ï¼š

```yaml
name: Auto Deploy to Server

on:
  push:
    branches: [main]       # æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - Checkout code      # 1. æ‹‰å–ä»£ç 
      - Setup Node.js      # 2. å®‰è£… Node.js
      - Install deps       # 3. å®‰è£…ä¾èµ–
      - Build project      # 4. æ„å»ºé¡¹ç›®
      - Deploy via SSH     # 5. éƒ¨ç½²åˆ°æœåŠ¡å™¨
```

**è¯¦ç»†è¯´æ˜ï¼š** [docs/DEPLOY.md](./DEPLOY.md)

---

### `ecosystem.config.js` - PM2 é…ç½®

æœåŠ¡å™¨è¿›ç¨‹ç®¡ç†é…ç½®ï¼š

```javascript
module.exports = {
  apps: [{
    name: 'stock-tracker',
    script: 'npm',
    args: 'start',
    instances: 1,
    autorestart: true,
    watch: false,
    max_memory_restart: '1G',
    env: {
      NODE_ENV: 'production',
      PORT: 3000
    }
  }]
}
```

---

## ğŸ“ é‡è¦æ–‡ä»¶è¯´æ˜

### æ ¹ç›®å½•æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ | é‡è¦æ€§ |
|------|------|--------|
| `README.md` | é¡¹ç›®ä¸»è¦è¯´æ˜æ–‡æ¡£ | â­â­â­ |
| `package.json` | ä¾èµ–å’Œè„šæœ¬é…ç½® | â­â­â­ |
| `.gitignore` | Git å¿½ç•¥è§„åˆ™ | â­â­â­ |
| `next.config.js` | Next.js é…ç½® | â­â­ |
| `tailwind.config.js` | æ ·å¼é…ç½® | â­â­ |
| `tsconfig.json` | TypeScript é…ç½® | â­â­ |
| `Dockerfile` | Docker é•œåƒé…ç½® | â­ |
| `ecosystem.config.js` | PM2 é…ç½® | â­ |

---

### æ–‡æ¡£æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ | é€‚åˆè¯»è€… |
|------|------|----------|
| `README.md` | é¡¹ç›®æ€»è§ˆ | æ‰€æœ‰äºº |
| `docs/QUICK-START.md` | 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹ | æ–°æ‰‹ |
| `docs/DEPLOY.md` | å®Œæ•´éƒ¨ç½²æŒ‡å— | éƒ¨ç½²äººå‘˜ |
| `docs/PROJECT-STRUCTURE.md` | é¡¹ç›®ç»“æ„ï¼ˆæœ¬æ–‡ä»¶ï¼‰ | å¼€å‘è€… |
| `SECURITY-CONFIG.md` | å®‰å…¨é…ç½® | è¿ç»´äººå‘˜ |

---

### è„šæœ¬æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ | ç”¨é€” |
|------|------|------|
| `GitHub-CLIè‡ªåŠ¨åŒ–.bat` | Windows ä¸€é”®éƒ¨ç½² | å¿«é€Ÿéƒ¨ç½² |
| `auto-deploy-github.ps1` | PowerShell éƒ¨ç½²è„šæœ¬ | è‡ªåŠ¨åŒ–éƒ¨ç½² |
| `server-deploy-setup.sh` | æœåŠ¡å™¨åˆå§‹åŒ– | é¦–æ¬¡éƒ¨ç½² |
| `scripts/daily-cache.sh` | æ•°æ®ç¼“å­˜è„šæœ¬ | å®šæ—¶ä»»åŠ¡ |

---

## ğŸš« ä¸åº”æäº¤çš„æ–‡ä»¶

ä»¥ä¸‹æ–‡ä»¶/æ–‡ä»¶å¤¹å·²åœ¨ `.gitignore` ä¸­é…ç½®ï¼Œä¸ä¼šæäº¤åˆ° Gitï¼š

```
.next/              # Next.js æ„å»ºè¾“å‡º
node_modules/       # ä¾èµ–åŒ…
.env.local          # æœ¬åœ°ç¯å¢ƒå˜é‡
.env.production     # ç”Ÿäº§ç¯å¢ƒå˜é‡
*.log              # æ—¥å¿—æ–‡ä»¶
.DS_Store          # macOS ç³»ç»Ÿæ–‡ä»¶
```

**âš ï¸ æ³¨æ„ï¼š** æ°¸è¿œä¸è¦æäº¤åŒ…å«æ•æ„Ÿä¿¡æ¯çš„æ–‡ä»¶ï¼

---

## ğŸ” æŸ¥æ‰¾æ–‡ä»¶

### æŒ‰åŠŸèƒ½æŸ¥æ‰¾

**ä¿®æ”¹é¡µé¢ï¼š** â†’ `src/app/page.tsx`

**ä¿®æ”¹ APIï¼š** â†’ `src/app/api/*/route.ts`

**ä¿®æ”¹ç»„ä»¶ï¼š** â†’ `src/components/*.tsx`

**ä¿®æ”¹æ ·å¼ï¼š** â†’ `src/app/globals.css` æˆ– `tailwind.config.js`

**ä¿®æ”¹æ•°æ®åº“é€»è¾‘ï¼š** â†’ `src/lib/database.ts`

**ä¿®æ”¹éƒ¨ç½²æµç¨‹ï¼š** â†’ `.github/workflows/deploy.yml`

---

### æŒ‰é—®é¢˜æŸ¥æ‰¾

**é¡µé¢ä¸æ˜¾ç¤ºï¼Ÿ** â†’ æ£€æŸ¥ `src/app/page.tsx`

**API æŠ¥é”™ï¼Ÿ** â†’ æ£€æŸ¥ `src/app/api/*/route.ts`

**æ ·å¼ä¸å¯¹ï¼Ÿ** â†’ æ£€æŸ¥ `globals.css` æˆ– `tailwind.config.js`

**æ•°æ®é”™è¯¯ï¼Ÿ** â†’ æ£€æŸ¥ `src/lib/` ä¸‹çš„æ•°æ®å¤„ç†æ–‡ä»¶

**éƒ¨ç½²å¤±è´¥ï¼Ÿ** â†’ æ£€æŸ¥ `.github/workflows/deploy.yml`

**æœåŠ¡å™¨é”™è¯¯ï¼Ÿ** â†’ æ£€æŸ¥ `ecosystem.config.js` å’ŒæœåŠ¡å™¨æ—¥å¿—

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [é¡¹ç›® README](../README.md) - é¡¹ç›®æ€»è§ˆ
- [å¿«é€Ÿå¼€å§‹](./QUICK-START.md) - 5åˆ†é’Ÿä¸Šæ‰‹
- [éƒ¨ç½²æŒ‡å—](./DEPLOY.md) - å®Œæ•´éƒ¨ç½²è¯´æ˜
- [å®‰å…¨é…ç½®](../SECURITY-CONFIG.md) - å®‰å…¨æœ€ä½³å®è·µ

---

## ğŸ’¡ æç¤º

1. ğŸ“ **ä¿®æ”¹å‰å…ˆäº†è§£ç»“æ„** - çŸ¥é“æ–‡ä»¶åœ¨å“ªé‡Œ
2. ğŸ” **ä½¿ç”¨ VS Code æœç´¢** - Ctrl+P å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶
3. ğŸ“– **é˜…è¯»æ³¨é‡Š** - ä»£ç ä¸­æœ‰è¯¦ç»†æ³¨é‡Š
4. âœ… **ä¿æŒç»“æ„æ•´æ´** - æ–°æ–‡ä»¶æ”¾åœ¨åˆé€‚çš„ä½ç½®
5. ğŸ“¦ **æ¨¡å—åŒ–å¼€å‘** - åŠŸèƒ½ç‹¬ç«‹ï¼Œä¾¿äºç»´æŠ¤

---

**éœ€è¦æ·»åŠ æ–°åŠŸèƒ½ï¼Ÿè¯·ä¿æŒé¡¹ç›®ç»“æ„çš„ä¸€è‡´æ€§ï¼**

