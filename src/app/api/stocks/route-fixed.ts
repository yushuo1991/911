import { NextRequest, NextResponse } from 'next/server';

export async function GET(request: NextRequest) {
  const mockData = {
    '2025-09-20': {
      date: '2025-09-20',
      categories: {
        '化工': [
          { name: '蓝丰生化', code: '002513', td_type: '1', performance: {}, total_return: 0 },
          { name: '嘉泽新能', code: '601619', td_type: '1', performance: {}, total_return: 0 }
        ],
        '芯片': [{ name: '养元饮品', code: '603156', td_type: '1', performance: {}, total_return: 0 }]
      },
      followUpData: {
        '化工': {
          '002513': { '2025-09-23': 2.34, '2025-09-24': 1.56, '2025-09-25': 3.45, '2025-09-26': -0.89, '2025-09-27': 1.23 },
          '601619': { '2025-09-23': 1.78, '2025-09-24': 2.34, '2025-09-25': 0.56, '2025-09-26': 2.89, '2025-09-27': -1.12 }
        },
        '芯片': {
          '603156': { '2025-09-23': 3.45, '2025-09-24': 2.23, '2025-09-25': 1.67, '2025-09-26': 4.12, '2025-09-27': 0.89 }
        }
      },
      stats: { total_stocks: 3, category_count: 2, profit_ratio: 66.67 }
    },
    '2025-09-23': {
      date: '2025-09-23',
      categories: {
        '化工': [
          { name: '蓝丰生化', code: '002513', td_type: '2连板', performance: {}, total_return: 0 },
          { name: '嘉泽新能', code: '601619', td_type: '1', performance: {}, total_return: 0 }
        ],
        '芯片': [{ name: '养元饮品', code: '603156', td_type: '2连板', performance: {}, total_return: 0 }]
      },
      followUpData: {
        '化工': {
          '002513': { '2025-09-24': 1.56, '2025-09-25': 3.45, '2025-09-26': -0.89, '2025-09-27': 1.23, '2025-09-30': 2.34 },
          '601619': { '2025-09-24': 2.34, '2025-09-25': 0.56, '2025-09-26': 2.89, '2025-09-27': -1.12, '2025-09-30': 1.45 }
        },
        '芯片': {
          '603156': { '2025-09-24': 2.23, '2025-09-25': 1.67, '2025-09-26': 4.12, '2025-09-27': 0.89, '2025-09-30': 3.56 }
        }
      },
      stats: { total_stocks: 3, category_count: 2, profit_ratio: 66.67 }
    },
    '2025-09-24': {
      date: '2025-09-24',
      categories: {
        '化工': [
          { name: '蓝丰生化', code: '002513', td_type: '3连板', performance: {}, total_return: 0 },
          { name: '嘉泽新能', code: '601619', td_type: '2连板', performance: {}, total_return: 0 }
        ],
        '芯片': [{ name: '养元饮品', code: '603156', td_type: '1', performance: {}, total_return: 0 }]
      },
      followUpData: {
        '化工': {
          '002513': { '2025-09-25': 3.45, '2025-09-26': -0.89, '2025-09-27': 1.23, '2025-09-30': 2.34, '2025-10-01': 1.67 },
          '601619': { '2025-09-25': 0.56, '2025-09-26': 2.89, '2025-09-27': -1.12, '2025-09-30': 1.45, '2025-10-01': 3.23 }
        },
        '芯片': {
          '603156': { '2025-09-25': 1.67, '2025-09-26': 4.12, '2025-09-27': 0.89, '2025-09-30': 3.56, '2025-10-01': 2.34 }
        }
      },
      stats: { total_stocks: 3, category_count: 2, profit_ratio: 66.67 }
    },
    '2025-09-25': {
      date: '2025-09-25',
      categories: {
        '化工': [
          { name: '蓝丰生化', code: '002513', td_type: '4连板', performance: {}, total_return: 0 },
          { name: '嘉泽新能', code: '601619', td_type: '1', performance: {}, total_return: 0 }
        ],
        '芯片': [{ name: '养元饮品', code: '603156', td_type: '2连板', performance: {}, total_return: 0 }]
      },
      followUpData: {
        '化工': {
          '002513': { '2025-09-26': -0.89, '2025-09-27': 1.23, '2025-09-30': 2.34, '2025-10-01': 1.67, '2025-10-02': 3.45 },
          '601619': { '2025-09-26': 2.89, '2025-09-27': -1.12, '2025-09-30': 1.45, '2025-10-01': 3.23, '2025-10-02': 0.78 }
        },
        '芯片': {
          '603156': { '2025-09-26': 4.12, '2025-09-27': 0.89, '2025-09-30': 3.56, '2025-10-01': 2.34, '2025-10-02': 1.89 }
        }
      },
      stats: { total_stocks: 3, category_count: 2, profit_ratio: 66.67 }
    },
    '2025-09-26': {
      date: '2025-09-26',
      categories: {
        '化工': [
          { name: '蓝丰生化', code: '002513', td_type: '5连板', performance: {}, total_return: 0 },
          { name: '嘉泽新能', code: '601619', td_type: '2连板', performance: {}, total_return: 0 }
        ],
        '芯片': [{ name: '养元饮品', code: '603156', td_type: '3连板', performance: {}, total_return: 0 }]
      },
      followUpData: {
        '化工': {
          '002513': { '2025-09-27': 1.23, '2025-09-30': 2.34, '2025-10-01': 1.67, '2025-10-02': 3.45, '2025-10-03': -0.89 },
          '601619': { '2025-09-27': -1.12, '2025-09-30': 1.45, '2025-10-01': 3.23, '2025-10-02': 0.78, '2025-10-03': 2.34 }
        },
        '芯片': {
          '603156': { '2025-09-27': 0.89, '2025-09-30': 3.56, '2025-10-01': 2.34, '2025-10-02': 1.89, '2025-10-03': 4.12 }
        }
      },
      stats: { total_stocks: 3, category_count: 2, profit_ratio: 66.67 }
    },
    '2025-09-27': {
      date: '2025-09-27',
      categories: {
        '化工': [
          { name: '蓝丰生化', code: '002513', td_type: '1', performance: {}, total_return: 0 },
          { name: '嘉泽新能', code: '601619', td_type: '1', performance: {}, total_return: 0 }
        ],
        '芯片': [{ name: '养元饮品', code: '603156', td_type: '1', performance: {}, total_return: 0 }]
      },
      followUpData: {
        '化工': {
          '002513': { '2025-09-30': 2.34, '2025-10-01': 1.67, '2025-10-02': 3.45, '2025-10-03': -0.89, '2025-10-04': 1.23 },
          '601619': { '2025-09-30': 1.45, '2025-10-01': 3.23, '2025-10-02': 0.78, '2025-10-03': 2.34, '2025-10-04': 1.56 }
        },
        '芯片': {
          '603156': { '2025-09-30': 3.56, '2025-10-01': 2.34, '2025-10-02': 1.89, '2025-10-03': 4.12, '2025-10-04': 0.67 }
        }
      },
      stats: { total_stocks: 3, category_count: 2, profit_ratio: 66.67 }
    },
    '2025-09-30': {
      date: '2025-09-30',
      categories: {
        '化工': [
          { name: '蓝丰生化', code: '002513', td_type: '2连板', performance: {}, total_return: 0 },
          { name: '嘉泽新能', code: '601619', td_type: '2连板', performance: {}, total_return: 0 }
        ],
        '芯片': [{ name: '养元饮品', code: '603156', td_type: '2连板', performance: {}, total_return: 0 }]
      },
      followUpData: {
        '化工': {
          '002513': { '2025-10-01': 1.67, '2025-10-02': 3.45, '2025-10-03': -0.89, '2025-10-04': 1.23, '2025-10-07': 2.34 },
          '601619': { '2025-10-01': 3.23, '2025-10-02': 0.78, '2025-10-03': 2.34, '2025-10-04': 1.56, '2025-10-07': 3.12 }
        },
        '芯片': {
          '603156': { '2025-10-01': 2.34, '2025-10-02': 1.89, '2025-10-03': 4.12, '2025-10-04': 0.67, '2025-10-07': 3.45 }
        }
      },
      stats: { total_stocks: 3, category_count: 2, profit_ratio: 66.67 }
    }
  };

  const dates = ['2025-09-20', '2025-09-23', '2025-09-24', '2025-09-25', '2025-09-26', '2025-09-27', '2025-09-30'];

  return NextResponse.json({
    success: true,
    data: mockData,
    dates: dates,
    cached: false
  });
}