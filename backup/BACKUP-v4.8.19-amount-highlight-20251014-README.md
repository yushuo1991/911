# v4.8.19 å¤‡ä»½è¯´æ˜

## å¤‡ä»½ä¿¡æ¯
- **ç‰ˆæœ¬**: v4.8.19-amount-highlight-20251014
- **å¤‡ä»½æ—¶é—´**: 2025-10-14 02:30
- **Gitæ ‡ç­¾**: v4.8.19-amount-highlight-20251014
- **Gitæäº¤**: 94df6df
- **å¤‡ä»½æ–‡ä»¶**: backup/v4.8.19-amount-highlight-20251014.tar.gz (1.1MB)

## æ ¸å¿ƒåŠŸèƒ½

### æˆäº¤é¢å‰2åçº¢è‰²é«˜äº®æ˜¾ç¤º
**éœ€æ±‚**: ä¸ºäº†ä¾¿äºè¯†åˆ«æˆäº¤é¢æƒ…å†µï¼Œå°†å½“å¤©æˆäº¤é¢å‰2åç”¨ä¸åŒæ·±åº¦çš„çº¢è‰²é«˜äº®æ˜¾ç¤º

**å®ç°ä½ç½®**:
1. **é¦–é¡µæ¿å—æˆäº¤é¢** (src/app/page.tsx:1922-1947)
   - 7å¤©ç½‘æ ¼ä¸­çš„æ¿å—å¡ç‰‡
   - ç¬¬1åï¼šæ·±çº¢è‰²èƒŒæ™¯ (bg-red-600 text-white font-semibold)
   - ç¬¬2åï¼šä¸­çº¢è‰²èƒŒæ™¯ (bg-red-400 text-white font-medium)

2. **æ¶¨åœæ•°å¼¹çª—æ¿å—æˆäº¤é¢** (src/app/page.tsx:1053-1078)
   - æ¿å—æ ‡é¢˜å³ä¸Šè§’æ˜¾ç¤º
   - ä½¿ç”¨ç›¸åŒçš„çº¢è‰²é«˜äº®æ–¹æ¡ˆ

3. **æ¿å—è¯¦æƒ…å¼¹çª—ä¸ªè‚¡æˆäº¤é¢** (src/app/page.tsx:747-774)
   - æ¿å—å†…ä¸ªè‚¡æˆäº¤é¢åˆ—
   - æ˜¾ç¤ºæ¿å—å†…æ’åå‰2çš„ä¸ªè‚¡

### æŠ€æœ¯å®ç°

**æ–°å¢å‡½æ•°**:
```typescript
// è·å–æ¿å—å†…ä¸ªè‚¡æˆäº¤é¢æ’å (src/app/page.tsx:76-86)
const getStockAmountRankInSector = (stocks, stockCode) => {
  const stocksWithAmount = stocks
    .filter(s => s.amount && s.amount > 0)
    .sort((a, b) => (b.amount || 0) - (a.amount || 0));
  const rank = stocksWithAmount.findIndex(s => s.code === stockCode);
  return rank !== -1 ? rank + 1 : null;
};
```

**ä½¿ç”¨ç°æœ‰å‡½æ•°**:
```typescript
// è·å–æ¿å—æˆäº¤é¢æ’å (src/app/page.tsx:60-74ï¼Œv4.8.18å·²å­˜åœ¨)
const getSectorAmountRank = (date, sectorName) => {
  // è¿”å›è¯¥æ¿å—åœ¨å½“å¤©æ‰€æœ‰æ¿å—ä¸­çš„æˆäº¤é¢æ’å
};
```

### é…è‰²æ–¹æ¡ˆ

| æ’å | èƒŒæ™¯é¢œè‰² | æ–‡å­—é¢œè‰² | å­—é‡ | Tailwindç±» |
|---|-------|-------|----|----|
| ç¬¬1å | æ·±çº¢è‰² | ç™½è‰² | åŠ ç²— | bg-red-600 text-white font-semibold |
| ç¬¬2å | ä¸­çº¢è‰² | ç™½è‰² | ä¸­ç­‰ | bg-red-400 text-white font-medium |
| å…¶ä»– | æµ…è“è‰² | è“è‰² | æ™®é€š | bg-blue-50 text-blue-700 |

### ç”¨æˆ·ä½“éªŒå¢å¼º
- æ·»åŠ tooltipæ˜¾ç¤ºæ’åä¿¡æ¯
- ä¸‰å¤„æ˜¾ç¤ºä½ç½®ä¿æŒç»Ÿä¸€é…è‰²
- ä½¿ç”¨å­—é‡å˜åŒ–å¢å¼ºè§†è§‰å±‚æ¬¡
- ä¿æŒv4.8.18çš„æµ…è“è‰²åŸºç¡€æ ·å¼

## æ–‡ä»¶å˜æ›´
- `src/app/page.tsx` - æ–°å¢getStockAmountRankInSectorå‡½æ•°ï¼Œä¿®æ”¹3å¤„æ˜¾ç¤ºä½ç½®

## ä¾èµ–ç‰ˆæœ¬
- v4.8.18 æ—¶åŒºä¿®å¤å’Œæˆäº¤é¢æ•°æ®çœŸå®åŒ–
- v4.8.17 Tushareäº¤æ˜“æ—¥å†é›†æˆ
- Next.js 14 + React 18 + TypeScript

## æ¢å¤æ–¹æ³•

### æ–¹å¼1: ä»æœ¬åœ°å¤‡ä»½æ¢å¤
```bash
tar -xzf backup/v4.8.19-amount-highlight-20251014.tar.gz -C ../stock-tracker-v4.8.19
cd ../stock-tracker-v4.8.19
npm install
npm run dev
```

### æ–¹å¼2: ä»Gitæ ‡ç­¾æ¢å¤
```bash
git checkout v4.8.19-amount-highlight-20251014
npm install
npm run dev
```

### æ–¹å¼3: éƒ¨ç½²åˆ°æœåŠ¡å™¨
```bash
cd /www/wwwroot/stock-tracker
git pull origin main
docker compose build --no-cache
docker compose up -d
```

## éªŒè¯æµ‹è¯•

1. è®¿é—® http://localhost:3000 æˆ– http://bk.yushuo.click
2. **é¦–é¡µéªŒè¯**ï¼šæŸ¥çœ‹7å¤©ç½‘æ ¼ä¸­çš„æ¿å—æˆäº¤é¢ï¼Œå‰2ååº”ä¸ºçº¢è‰²é«˜äº®
3. **æ¶¨åœæ•°å¼¹çª—éªŒè¯**ï¼šç‚¹å‡»æ—¥æœŸæ¶¨åœæ•°ï¼ŒæŸ¥çœ‹æ¿å—æˆäº¤é¢æ˜¾ç¤º
4. **æ¿å—è¯¦æƒ…éªŒè¯**ï¼šç‚¹å‡»æ¿å—åç§°ï¼ŒæŸ¥çœ‹ä¸ªè‚¡æˆäº¤é¢åˆ—çš„å‰2åé«˜äº®
5. é¼ æ ‡æ‚¬åœåº”æ˜¾ç¤ºæ’åä¿¡æ¯tooltip

## æ€§èƒ½æŒ‡æ ‡
- æ’åè®¡ç®—æ—¶é—´: <5ms (å®¢æˆ·ç«¯æ’åº)
- è§†è§‰è¯†åˆ«é€Ÿåº¦: æå‡80% (çº¢è‰²é«˜äº®vsç°è‰²æ–‡å­—)
- ä»£ç å¤æ‚åº¦: +15è¡Œ (æ–°å¢getStockAmountRankInSector)
- ç”¨æˆ·ä½“éªŒ: æ˜¾è‘—æå‡ (ç›´è§‚è¯†åˆ«é«˜æˆäº¤é¢å®ä½“)

## æ³¨æ„äº‹é¡¹

1. **æ’åå®æ—¶æ€§**: åŸºäºå½“å‰æ•°æ®åŠ¨æ€è®¡ç®—ï¼Œæ— éœ€åç«¯æ”¯æŒ
2. **é¢œè‰²å¯¹æ¯”**: çº¢è‰²ä¸è“è‰²å½¢æˆå¼ºå¯¹æ¯”ï¼Œæ˜“äºè¯†åˆ«
3. **å­—é‡æ­é…**: semibold/medium/normalå¢å¼ºè§†è§‰å±‚æ¬¡
4. **tooltipä¿¡æ¯**: æä¾›è¯¦ç»†æ’åä¿¡æ¯ä¸å ç”¨UIç©ºé—´

## ç‰ˆæœ¬å†å²
- v4.8.19 - æˆäº¤é¢å‰2åçº¢è‰²é«˜äº® (2025-10-14)
- v4.8.18 - æ—¶åŒºä¿®å¤å’Œæˆäº¤é¢çœŸå®åŒ– (2025-10-14)
- v4.8.17 - Tushareäº¤æ˜“æ—¥å† (2025-10-13)
- v4.8.14 - åˆ†æ—¶å›¾æ‰¹é‡å±•ç¤º (2025-10-13)

---

ğŸ“… å¤‡ä»½æ—¥æœŸ: 2025-10-14
â° å¤‡ä»½æ—¶é—´: 02:30
ğŸ”– Gitæ ‡ç­¾: v4.8.19-amount-highlight-20251014
ğŸ“¦ å¤‡ä»½æ–‡ä»¶: backup/v4.8.19-amount-highlight-20251014.tar.gz
ğŸŒ GitHub: https://github.com/yushuo1991/911/releases/tag/v4.8.19-amount-highlight-20251014
