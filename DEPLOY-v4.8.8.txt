# v4.8.8 éƒ¨ç½²æŒ‡å—

## ä¿®å¤å†…å®¹
1. **æ•°æ®åˆ·æ–°é—®é¢˜**: å°†7å¤©ç¼“å­˜æ—¶é—´ä»2å°æ—¶ç¼©çŸ­åˆ°30åˆ†é’Ÿï¼ˆåŠ å¿«æ•°æ®åˆ·æ–°ï¼‰
2. **æ¿å—æˆäº¤é¢æ˜¾ç¤º**: åœ¨é¦–é¡µæ¿å—åç§°åæ˜¾ç¤ºæ¿å—æˆäº¤é¢æ€»å’Œï¼ˆæ ¼å¼: ğŸ’°45.2äº¿ï¼‰

## æœ¬åœ°æäº¤çŠ¶æ€
âœ… ä»£ç å·²æäº¤åˆ°æœ¬åœ°Gitä»“åº“
âš ï¸  GitHubæ¨é€å¤±è´¥ï¼ˆç½‘ç»œè¿æ¥é—®é¢˜ï¼‰

## æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤

### æ–¹å¼1: é‡è¯•æ¨é€åˆ°GitHubï¼ˆæ¨èï¼‰
```bash
cd "C:\Users\yushu\Desktop\stock-tracker - å‰¯æœ¬"
git push origin main
```

### æ–¹å¼2: æœåŠ¡å™¨ç«¯å•è¡Œéƒ¨ç½²å‘½ä»¤
å¦‚æœGitHubæ¨é€æˆåŠŸï¼Œåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ:
```bash
cd /www/wwwroot/stock-tracker && git fetch origin && git checkout -- src/app/page.tsx && git pull origin main && docker compose down && docker compose build --no-cache && docker compose up -d && sleep 20 && docker ps | grep stock-tracker && curl -I http://localhost:3002 && echo "âœ… v4.8.8éƒ¨ç½²å®Œæˆï¼"
```

### æ–¹å¼3: æœåŠ¡å™¨ç«¯åˆ†æ­¥éƒ¨ç½²å‘½ä»¤
```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /www/wwwroot/stock-tracker

# 2. æ‹‰å–æœ€æ–°ä»£ç 
git fetch origin
git pull origin main

# 3. åœæ­¢å½“å‰å®¹å™¨
docker compose down

# 4. é‡æ–°æ„å»ºé•œåƒï¼ˆæ— ç¼“å­˜ï¼‰
docker compose build --no-cache

# 5. å¯åŠ¨æ–°å®¹å™¨
docker compose up -d

# 6. ç­‰å¾…20ç§’è®©æœåŠ¡å¯åŠ¨
sleep 20

# 7. éªŒè¯æœåŠ¡çŠ¶æ€
docker ps | grep stock-tracker
curl -I http://localhost:3002

# 8. ç¡®è®¤éƒ¨ç½²æˆåŠŸ
echo "âœ… v4.8.8éƒ¨ç½²å®Œæˆï¼"
```

## éªŒè¯éƒ¨ç½²

è®¿é—® http://bk.yushuo.click æ£€æŸ¥:
1. æ•°æ®æ˜¯å¦è‡ªåŠ¨åˆ·æ–°åˆ°æœ€æ–°äº¤æ˜“æ—¥ï¼ˆ10æœˆ9æ—¥æˆ–æ›´æ™šï¼‰
2. æ¿å—åç§°åæ˜¯å¦æ˜¾ç¤ºæˆäº¤é¢ï¼ˆå¦‚: ğŸ’°45.2äº¿ï¼‰

## æŠ€æœ¯ç»†èŠ‚

### ä¿®æ”¹çš„æ–‡ä»¶
1. src/app/api/stocks/route.ts - åç«¯APIé€»è¾‘
   - ç¼“å­˜æ—¶é—´: 2å°æ—¶ â†’ 30åˆ†é’Ÿ (line 26)
   - æå–æˆäº¤é¢: stockData[6] (lines 258-276)
   - è®¡ç®—æ¿å—æˆäº¤é¢æ€»å’Œ (lines 819-845)

2. src/types/stock.ts - ç±»å‹å®šä¹‰
   - Stock.Amount: æˆäº¤é¢ï¼ˆäº¿å…ƒï¼‰(line 6)
   - DayData.sectorAmounts: æ¿å—æˆäº¤é¢æ±‡æ€» (line 44)

3. src/app/page.tsx - å‰ç«¯æ˜¾ç¤º
   - æ˜¾ç¤ºæ¿å—æˆäº¤é¢å¾½ç«  (lines 1564-1576)

### æˆäº¤é¢æ•°æ®æµ
APIå“åº” â†’ stockData[6] â†’ Stock.Amount â†’ sectorAmounts â†’ å‰ç«¯æ˜¾ç¤º

### Gitæäº¤ä¿¡æ¯
```
commit fd974e4
feat: v4.8.8 ä¿®å¤æ•°æ®åˆ·æ–°å’Œæ·»åŠ æ¿å—æˆäº¤é¢æ˜¾ç¤º
```

## å›æ»šæ–¹æ¡ˆ
å¦‚æœv4.8.8æœ‰é—®é¢˜ï¼Œå¯ä»¥å›æ»šåˆ°v4.8.7:
```bash
cd /www/wwwroot/stock-tracker && git fetch origin --tags && git checkout v4.8.7-stable && docker compose down && docker compose build && docker compose up -d && sleep 20 && echo "âœ… å·²å›æ»šåˆ°v4.8.7"
```

---
ç”Ÿæˆæ—¶é—´: 2025-10-09
ç‰ˆæœ¬: v4.8.8
